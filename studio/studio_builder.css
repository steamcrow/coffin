/* =========================================================
   COFFIN CANYON FACTION STUDIO - FULL RESTORED MASTER
   ========================================================= */

*, *::before, *::after { box-sizing: border-box; }

:root { 
  --cc-primary: #ff7518;
  --cc-primary-dim: rgba(255, 117, 24, 0.15);
  --cc-bg-darker: #121212;
  --cc-border: rgba(255, 255, 255, 0.1);
  --cc-text-muted: #999;
  --stat-q: #00d4ff;
  --stat-d: #ff3e3e;
  --stat-m: #44ff44;
  --stat-r: #ffbb00;
}

#faction-studio-root { width: 100%; overflow-x: hidden; font-family: 'Oswald', sans-serif; }

.studio-wrapper {
    width: 100%;
    max-width: 1600px;
    margin: 0 auto;
    padding: 20px;
}

/* =========================================================
   THE GRID
   ========================================================= */
.fb-grid {
    display: grid;
    grid-template-columns: 1fr 1.4fr 1.1fr;
    gap: 20px;
    align-items: start;
}

@media (max-width: 1280px) {
    .fb-grid { grid-template-columns: 1fr 1.5fr; }
    #unit-card { grid-column: span 2; }
}

@media (max-width: 900px) {
    .fb-grid { grid-template-columns: 1fr; }
    #unit-card { grid-column: span 1; }
}

/* =========================================================
   PANELS & HEADERS
   ========================================================= */
.fb-panel {
    background: var(--cc-bg-darker);
    border: 1px solid var(--cc-border);
    border-radius: 8px;
    overflow: hidden;
    min-width: 0;
}

.cc-panel-header {
    background: rgba(255,255,255,0.05);
    padding: 12px 15px;
    border-bottom: 1px solid var(--cc-border);
    font-weight: 900;
    text-transform: uppercase;
    font-size: 11px;
    letter-spacing: 1px;
    color: var(--cc-primary);
}

.panel-content { padding: 15px; }

/* =========================================================
   STAT BADGES (THE "VIBE")
   ========================================================= */
.stat-badge-flex {
    display: flex;
    gap: 10px;
    margin: 15px 0;
    justify-content: center;
}

.cc-stat-badge {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: rgba(0,0,0,0.5);
    border: 2px solid #444;
    border-radius: 6px;
    padding: 5px;
    min-width: 55px;
}

.cc-stat-label { font-size: 10px; font-weight: 900; }
.cc-stat-value { font-size: 18px; font-weight: 900; color: #fff; }

.stat-q-border { border-color: var(--stat-q); }
.stat-d-border { border-color: var(--stat-d); }
.stat-m-border { border-color: var(--stat-m); }
.stat-r-border { border-color: var(--stat-r); }

.stat-q { color: var(--stat-q); }
.stat-d { color: var(--stat-d); }
.stat-m { color: var(--stat-m); }
.stat-r { color: var(--stat-r); }

/* =========================================================
   BUILDER STEPS
   ========================================================= */
.builder-step {
    border: 1px solid var(--cc-border);
    border-radius: 6px;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.02);
}

.step-header {
    padding: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
}

.step-number {
    width: 24px;
    height: 24px;
    background: #333;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 900;
}

.step-active { border-left: 4px solid var(--cc-primary); background: rgba(255,117,24,0.05); }
.step-active .step-number { background: var(--cc-primary); color: #000; }

.step-content { padding: 15px; border-top: 1px solid var(--cc-border); }

/* =========================================================
   ABILITIES & PROPERTY BADGES
   ========================================================= */
.property-badge {
    display: inline-block;
    background: var(--cc-primary-dim);
    color: var(--cc-primary);
    border: 1px solid var(--cc-primary);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    margin: 2px;
    text-transform: uppercase;
    font-weight: 700;
}

.ability-item {
    background: rgba(255,255,255,0.05);
    padding: 8px;
    border-radius: 4px;
    margin-bottom: 5px;
    font-size: 12px;
    border-left: 2px solid var(--cc-primary);
}

/* =========================================================
   FORM ELEMENTS (FORCED DARK)
   ========================================================= */
.cc-input, .cc-select {
    width: 100%;
    background: #000 !important;
    border: 1px solid #333 !important;
    color: #fff !important;
    padding: 10px;
    border-radius: 4px;
}

.btn-add-small {
    background: var(--cc-primary);
    color: #000;
    border: none;
    padding: 10px;
    font-weight: 900;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 4px;
}

.btn-add-small:hover { background: #ff9d5c; }
